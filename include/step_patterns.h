#pragma once

#include <vector>
#include <algorithm>

// 2-step patterns
const int pattern2Steps[][2] = {
    {0, 1},
    {1, 0}};
const int numPattern2Steps = sizeof(pattern2Steps) / sizeof(pattern2Steps[0]);

// 3-step patterns
const int pattern3Steps[][3] = {
    {0, 1, 2},
    {0, 2, 1},
    {1, 0, 2},
    {1, 2, 0},
    {2, 0, 1},
    {2, 1, 0}};
const int numPattern3Steps = sizeof(pattern3Steps) / sizeof(pattern3Steps[0]);

// 4-step patterns
const int pattern4Steps[][4] = {
    {0, 1, 2, 3},
    {0, 1, 3, 2},
    {0, 2, 1, 3},
    {0, 2, 3, 1},
    {0, 3, 1, 2},
    {0, 3, 2, 1},
    {1, 0, 2, 3},
    {1, 0, 3, 2},
    {1, 2, 0, 3},
    {1, 2, 3, 0},
    {1, 3, 0, 2},
    {1, 3, 2, 0},
    {2, 0, 1, 3},
    {2, 0, 3, 1},
    {2, 1, 0, 3},
    {2, 1, 3, 0},
    {2, 3, 0, 1},
    {2, 3, 1, 0},
    {3, 0, 1, 2},
    {3, 0, 2, 1},
    {3, 1, 0, 2},
    {3, 1, 2, 0},
    {3, 2, 0, 1},
    {3, 2, 1, 0}};
const int numPattern4Steps = sizeof(pattern4Steps) / sizeof(pattern4Steps[0]);

// 5-step patterns
const int pattern5Steps[][5] = {
    {0, 1, 2, 3, 4},
    {0, 1, 2, 4, 3},
    {0, 1, 3, 2, 4},
    {0, 1, 3, 4, 2},
    {0, 1, 4, 2, 3},
    {0, 1, 4, 3, 2},
    {0, 2, 1, 3, 4},
    {0, 2, 1, 4, 3},
    {0, 2, 3, 1, 4},
    {0, 2, 3, 4, 1},
    {0, 2, 4, 1, 3},
    {0, 2, 4, 3, 1},
    {0, 3, 1, 2, 4},
    {0, 3, 1, 4, 2},
    {0, 3, 2, 1, 4},
    {0, 3, 2, 4, 1},
    {0, 3, 4, 1, 2},
    {0, 3, 4, 2, 1},
    {0, 4, 1, 2, 3},
    {0, 4, 1, 3, 2},
    {0, 4, 2, 1, 3},
    {0, 4, 2, 3, 1},
    {0, 4, 3, 1, 2},
    {0, 4, 3, 2, 1},
    {1, 0, 2, 3, 4},
    {1, 0, 2, 4, 3},
    {1, 0, 3, 2, 4},
    {1, 0, 3, 4, 2},
    {1, 0, 4, 2, 3},
    {1, 0, 4, 3, 2},
    {1, 2, 0, 3, 4},
    {1, 2, 0, 4, 3},
    {1, 2, 3, 0, 4},
    {1, 2, 3, 4, 0},
    {1, 2, 4, 0, 3},
    {1, 2, 4, 3, 0},
    {1, 3, 0, 2, 4},
    {1, 3, 0, 4, 2},
    {1, 3, 2, 0, 4},
    {1, 3, 2, 4, 0},
    {1, 3, 4, 0, 2},
    {1, 3, 4, 2, 0},
    {1, 4, 0, 2, 3},
    {1, 4, 0, 3, 2},
    {1, 4, 2, 0, 3},
    {1, 4, 2, 3, 0},
    {1, 4, 3, 0, 2},
    {1, 4, 3, 2, 0},
    {2, 0, 1, 3, 4},
    {2, 0, 1, 4, 3},
    {2, 0, 3, 1, 4},
    {2, 0, 3, 4, 1},
    {2, 0, 4, 1, 3},
    {2, 0, 4, 3, 1},
    {2, 1, 0, 3, 4},
    {2, 1, 0, 4, 3},
    {2, 1, 3, 0, 4},
    {2, 1, 3, 4, 0},
    {2, 1, 4, 0, 3},
    {2, 1, 4, 3, 0},
    {2, 3, 0, 1, 4},
    {2, 3, 0, 4, 1},
    {2, 3, 1, 0, 4},
    {2, 3, 1, 4, 0},
    {2, 3, 4, 0, 1},
    {2, 3, 4, 1, 0},
    {2, 4, 0, 1, 3},
    {2, 4, 0, 3, 1},
    {2, 4, 1, 0, 3},
    {2, 4, 1, 3, 0},
    {2, 4, 3, 0, 1},
    {2, 4, 3, 1, 0},
    {3, 0, 1, 2, 4},
    {3, 0, 1, 4, 2},
    {3, 0, 2, 1, 4},
    {3, 0, 2, 4, 1},
    {3, 0, 4, 1, 2},
    {3, 0, 4, 2, 1},
    {3, 1, 0, 2, 4},
    {3, 1, 0, 4, 2},
    {3, 1, 2, 0, 4},
    {3, 1, 2, 4, 0},
    {3, 1, 4, 0, 2},
    {3, 1, 4, 2, 0},
    {3, 2, 0, 1, 4},
    {3, 2, 0, 4, 1},
    {3, 2, 1, 0, 4},
    {3, 2, 1, 4, 0},
    {3, 2, 4, 0, 1},
    {3, 2, 4, 1, 0},
    {3, 4, 0, 1, 2},
    {3, 4, 0, 2, 1},
    {3, 4, 1, 0, 2},
    {3, 4, 1, 2, 0},
    {3, 4, 2, 0, 1},
    {3, 4, 2, 1, 0},
    {4, 0, 1, 2, 3},
    {4, 0, 1, 3, 2},
    {4, 0, 2, 1, 3},
    {4, 0, 2, 3, 1},
    {4, 0, 3, 1, 2},
    {4, 0, 3, 2, 1},
    {4, 1, 0, 2, 3},
    {4, 1, 0, 3, 2},
    {4, 1, 2, 0, 3},
    {4, 1, 2, 3, 0},
    {4, 1, 3, 0, 2},
    {4, 1, 3, 2, 0},
    {4, 2, 0, 1, 3},
    {4, 2, 0, 3, 1},
    {4, 2, 1, 0, 3},
    {4, 2, 1, 3, 0},
    {4, 2, 3, 0, 1},
    {4, 2, 3, 1, 0},
    {4, 3, 0, 1, 2},
    {4, 3, 0, 2, 1},
    {4, 3, 1, 0, 2},
    {4, 3, 1, 2, 0},
    {4, 3, 2, 0, 1},
    {4, 3, 2, 1, 0}};
const int numPattern5Steps = sizeof(pattern5Steps) / sizeof(pattern5Steps[0]);

// 6-step patterns
const int pattern6Steps[][6] = {
    {0, 1, 2, 3, 4, 5},
    {0, 1, 2, 3, 5, 4},
    {0, 1, 2, 4, 3, 5},
    {0, 1, 2, 4, 5, 3},
    {0, 1, 2, 5, 3, 4},
    {0, 1, 2, 5, 4, 3},
    {0, 1, 3, 2, 4, 5},
    {0, 1, 3, 2, 5, 4},
    {0, 1, 3, 4, 2, 5},
    {0, 1, 3, 4, 5, 2},
    {0, 1, 3, 5, 2, 4},
    {0, 1, 3, 5, 4, 2},
    {0, 1, 4, 2, 3, 5},
    {0, 1, 4, 2, 5, 3},
    {0, 1, 4, 3, 2, 5},
    {0, 1, 4, 3, 5, 2},
    {0, 1, 4, 5, 2, 3},
    {0, 1, 4, 5, 3, 2},
    {0, 1, 5, 2, 3, 4},
    {0, 1, 5, 2, 4, 3},
    {0, 1, 5, 3, 2, 4},
    {0, 1, 5, 3, 4, 2},
    {0, 1, 5, 4, 2, 3},
    {0, 1, 5, 4, 3, 2},
    {0, 2, 1, 3, 4, 5},
    {0, 2, 1, 3, 5, 4},
    {0, 2, 1, 4, 3, 5},
    {0, 2, 1, 4, 5, 3},
    {0, 2, 1, 5, 3, 4},
    {0, 2, 1, 5, 4, 3},
    {0, 2, 3, 1, 4, 5},
    {0, 2, 3, 1, 5, 4},
    {0, 2, 3, 4, 1, 5},
    {0, 2, 3, 4, 5, 1},
    {0, 2, 3, 5, 1, 4},
    {0, 2, 3, 5, 4, 1},
    {0, 2, 4, 1, 3, 5},
    {0, 2, 4, 1, 5, 3},
    {0, 2, 4, 3, 1, 5},
    {0, 2, 4, 3, 5, 1},
    {0, 2, 4, 5, 1, 3},
    {0, 2, 4, 5, 3, 1},
    {0, 2, 5, 1, 3, 4},
    {0, 2, 5, 1, 4, 3},
    {0, 2, 5, 3, 1, 4},
    {0, 2, 5, 3, 4, 1},
    {0, 2, 5, 4, 1, 3},
    {0, 2, 5, 4, 3, 1},
    {0, 3, 1, 2, 4, 5},
    {0, 3, 1, 2, 5, 4},
    {0, 3, 1, 4, 2, 5},
    {0, 3, 1, 4, 5, 2},
    {0, 3, 1, 5, 2, 4},
    {0, 3, 1, 5, 4, 2},
    {0, 3, 2, 1, 4, 5},
    {0, 3, 2, 1, 5, 4},
    {0, 3, 2, 4, 1, 5},
    {0, 3, 2, 4, 5, 1},
    {0, 3, 2, 5, 1, 4},
    {0, 3, 2, 5, 4, 1},
    {0, 3, 4, 1, 2, 5},
    {0, 3, 4, 1, 5, 2},
    {0, 3, 4, 2, 1, 5},
    {0, 3, 4, 2, 5, 1},
    {0, 3, 4, 5, 1, 2},
    {0, 3, 4, 5, 2, 1},
    {0, 3, 5, 1, 2, 4},
    {0, 3, 5, 1, 4, 2},
    {0, 3, 5, 2, 1, 4},
    {0, 3, 5, 2, 4, 1},
    {0, 3, 5, 4, 1, 2},
    {0, 3, 5, 4, 2, 1},
    {0, 4, 1, 2, 3, 5},
    {0, 4, 1, 2, 5, 3},
    {0, 4, 1, 3, 2, 5},
    {0, 4, 1, 3, 5, 2},
    {0, 4, 1, 5, 2, 3},
    {0, 4, 1, 5, 3, 2},
    {0, 4, 2, 1, 3, 5},
    {0, 4, 2, 1, 5, 3},
    {0, 4, 2, 3, 1, 5},
    {0, 4, 2, 3, 5, 1},
    {0, 4, 2, 5, 1, 3},
    {0, 4, 2, 5, 3, 1},
    {0, 4, 3, 1, 2, 5},
    {0, 4, 3, 1, 5, 2},
    {0, 4, 3, 2, 1, 5},
    {0, 4, 3, 2, 5, 1},
    {0, 4, 3, 5, 1, 2},
    {0, 4, 3, 5, 2, 1},
    {0, 4, 5, 1, 2, 3},
    {0, 4, 5, 1, 3, 2},
    {0, 4, 5, 2, 1, 3},
    {0, 4, 5, 2, 3, 1},
    {0, 4, 5, 3, 1, 2},
    {0, 4, 5, 3, 2, 1},
    {0, 5, 1, 2, 3, 4},
    {0, 5, 1, 2, 4, 3},
    {0, 5, 1, 3, 2, 4},
    {0, 5, 1, 3, 4, 2},
    {0, 5, 1, 4, 2, 3},
    {0, 5, 1, 4, 3, 2},
    {0, 5, 2, 1, 3, 4},
    {0, 5, 2, 1, 4, 3},
    {0, 5, 2, 3, 1, 4},
    {0, 5, 2, 3, 4, 1},
    {0, 5, 2, 4, 1, 3},
    {0, 5, 2, 4, 3, 1},
    {0, 5, 3, 1, 2, 4},
    {0, 5, 3, 1, 4, 2},
    {0, 5, 3, 2, 1, 4},
    {0, 5, 3, 2, 4, 1},
    {0, 5, 3, 4, 1, 2},
    {0, 5, 3, 4, 2, 1},
    {0, 5, 4, 1, 2, 3},
    {0, 5, 4, 1, 3, 2},
    {0, 5, 4, 2, 1, 3},
    {0, 5, 4, 2, 3, 1},
    {0, 5, 4, 3, 1, 2},
    {0, 5, 4, 3, 2, 1},
    {1, 0, 2, 3, 4, 5},
    {1, 0, 2, 3, 5, 4},
    {1, 0, 2, 4, 3, 5},
    {1, 0, 2, 4, 5, 3},
    {1, 0, 2, 5, 3, 4},
    {1, 0, 2, 5, 4, 3},
    {1, 0, 3, 2, 4, 5},
    {1, 0, 3, 2, 5, 4},
    {1, 0, 3, 4, 2, 5},
    {1, 0, 3, 4, 5, 2},
    {1, 0, 3, 5, 2, 4},
    {1, 0, 3, 5, 4, 2},
    {1, 0, 4, 2, 3, 5},
    {1, 0, 4, 2, 5, 3},
    {1, 0, 4, 3, 2, 5},
    {1, 0, 4, 3, 5, 2},
    {1, 0, 4, 5, 2, 3},
    {1, 0, 4, 5, 3, 2},
    {1, 0, 5, 2, 3, 4},
    {1, 0, 5, 2, 4, 3},
    {1, 0, 5, 3, 2, 4},
    {1, 0, 5, 3, 4, 2},
    {1, 0, 5, 4, 2, 3},
    {1, 0, 5, 4, 3, 2},
    {1, 2, 0, 3, 4, 5},
    {1, 2, 0, 3, 5, 4},
    {1, 2, 0, 4, 3, 5},
    {1, 2, 0, 4, 5, 3},
    {1, 2, 0, 5, 3, 4},
    {1, 2, 0, 5, 4, 3},
    {1, 2, 3, 0, 4, 5},
    {1, 2, 3, 0, 5, 4},
    {1, 2, 3, 4, 0, 5},
    {1, 2, 3, 4, 5, 0},
    {1, 2, 3, 5, 0, 4},
    {1, 2, 3, 5, 4, 0},
    {1, 2, 4, 0, 3, 5},
    {1, 2, 4, 0, 5, 3},
    {1, 2, 4, 3, 0, 5},
    {1, 2, 4, 3, 5, 0},
    {1, 2, 4, 5, 0, 3},
    {1, 2, 4, 5, 3, 0},
    {1, 2, 5, 0, 3, 4},
    {1, 2, 5, 0, 4, 3},
    {1, 2, 5, 3, 0, 4},
    {1, 2, 5, 3, 4, 0},
    {1, 2, 5, 4, 0, 3},
    {1, 2, 5, 4, 3, 0},
    {1, 3, 0, 2, 4, 5},
    {1, 3, 0, 2, 5, 4},
    {1, 3, 0, 4, 2, 5},
    {1, 3, 0, 4, 5, 2},
    {1, 3, 0, 5, 2, 4},
    {1, 3, 0, 5, 4, 2},
    {1, 3, 2, 0, 4, 5},
    {1, 3, 2, 0, 5, 4},
    {1, 3, 2, 4, 0, 5},
    {1, 3, 2, 4, 5, 0},
    {1, 3, 2, 5, 0, 4},
    {1, 3, 2, 5, 4, 0},
    {1, 3, 4, 0, 2, 5},
    {1, 3, 4, 0, 5, 2},
    {1, 3, 4, 2, 0, 5},
    {1, 3, 4, 2, 5, 0},
    {1, 3, 4, 5, 0, 2},
    {1, 3, 4, 5, 2, 0},
    {1, 3, 5, 0, 2, 4},
    {1, 3, 5, 0, 4, 2},
    {1, 3, 5, 2, 0, 4},
    {1, 3, 5, 2, 4, 0},
    {1, 3, 5, 4, 0, 2},
    {1, 3, 5, 4, 2, 0},
    {1, 4, 0, 2, 3, 5},
    {1, 4, 0, 2, 5, 3},
    {1, 4, 0, 3, 2, 5},
    {1, 4, 0, 3, 5, 2},
    {1, 4, 0, 5, 2, 3},
    {1, 4, 0, 5, 3, 2},
    {1, 4, 2, 0, 3, 5},
    {1, 4, 2, 0, 5, 3},
    {1, 4, 2, 3, 0, 5},
    {1, 4, 2, 3, 5, 0},
    {1, 4, 2, 5, 0, 3},
    {1, 4, 2, 5, 3, 0},
    {1, 4, 3, 0, 2, 5},
    {1, 4, 3, 0, 5, 2},
    {1, 4, 3, 2, 0, 5},
    {1, 4, 3, 2, 5, 0},
    {1, 4, 3, 5, 0, 2},
    {1, 4, 3, 5, 2, 0},
    {1, 4, 5, 0, 2, 3},
    {1, 4, 5, 0, 3, 2},
    {1, 4, 5, 2, 0, 3},
    {1, 4, 5, 2, 3, 0},
    {1, 4, 5, 3, 0, 2},
    {1, 4, 5, 3, 2, 0},
    {1, 5, 0, 2, 3, 4},
    {1, 5, 0, 2, 4, 3},
    {1, 5, 0, 3, 2, 4},
    {1, 5, 0, 3, 4, 2},
    {1, 5, 0, 4, 2, 3},
    {1, 5, 0, 4, 3, 2},
    {1, 5, 2, 0, 3, 4},
    {1, 5, 2, 0, 4, 3},
    {1, 5, 2, 3, 0, 4},
    {1, 5, 2, 3, 4, 0},
    {1, 5, 2, 4, 0, 3},
    {1, 5, 2, 4, 3, 0},
    {1, 5, 3, 0, 2, 4},
    {1, 5, 3, 0, 4, 2},
    {1, 5, 3, 2, 0, 4},
    {1, 5, 3, 2, 4, 0},
    {1, 5, 3, 4, 0, 2},
    {1, 5, 3, 4, 2, 0},
    {1, 5, 4, 0, 2, 3},
    {1, 5, 4, 0, 3, 2},
    {1, 5, 4, 2, 0, 3},
    {1, 5, 4, 2, 3, 0},
    {1, 5, 4, 3, 0, 2},
    {1, 5, 4, 3, 2, 0},
    {2, 0, 1, 3, 4, 5},
    {2, 0, 1, 3, 5, 4},
    {2, 0, 1, 4, 3, 5},
    {2, 0, 1, 4, 5, 3},
    {2, 0, 1, 5, 3, 4},
    {2, 0, 1, 5, 4, 3},
    {2, 0, 3, 1, 4, 5},
    {2, 0, 3, 1, 5, 4},
    {2, 0, 3, 4, 1, 5},
    {2, 0, 3, 4, 5, 1},
    {2, 0, 3, 5, 1, 4},
    {2, 0, 3, 5, 4, 1},
    {2, 0, 4, 1, 3, 5},
    {2, 0, 4, 1, 5, 3},
    {2, 0, 4, 3, 1, 5},
    {2, 0, 4, 3, 5, 1},
    {2, 0, 4, 5, 1, 3},
    {2, 0, 4, 5, 3, 1},
    {2, 0, 5, 1, 3, 4},
    {2, 0, 5, 1, 4, 3},
    {2, 0, 5, 3, 1, 4},
    {2, 0, 5, 3, 4, 1},
    {2, 0, 5, 4, 1, 3},
    {2, 0, 5, 4, 3, 1},
    {2, 1, 0, 3, 4, 5},
    {2, 1, 0, 3, 5, 4},
    {2, 1, 0, 4, 3, 5},
    {2, 1, 0, 4, 5, 3},
    {2, 1, 0, 5, 3, 4},
    {2, 1, 0, 5, 4, 3},
    {2, 1, 3, 0, 4, 5},
    {2, 1, 3, 0, 5, 4},
    {2, 1, 3, 4, 0, 5},
    {2, 1, 3, 4, 5, 0},
    {2, 1, 3, 5, 0, 4},
    {2, 1, 3, 5, 4, 0},
    {2, 1, 4, 0, 3, 5},
    {2, 1, 4, 0, 5, 3},
    {2, 1, 4, 3, 0, 5},
    {2, 1, 4, 3, 5, 0},
    {2, 1, 4, 5, 0, 3},
    {2, 1, 4, 5, 3, 0},
    {2, 1, 5, 0, 3, 4},
    {2, 1, 5, 0, 4, 3},
    {2, 1, 5, 3, 0, 4},
    {2, 1, 5, 3, 4, 0},
    {2, 1, 5, 4, 0, 3},
    {2, 1, 5, 4, 3, 0},
    {2, 3, 0, 1, 4, 5},
    {2, 3, 0, 1, 5, 4},
    {2, 3, 0, 4, 1, 5},
    {2, 3, 0, 4, 5, 1},
    {2, 3, 0, 5, 1, 4},
    {2, 3, 0, 5, 4, 1},
    {2, 3, 1, 0, 4, 5},
    {2, 3, 1, 0, 5, 4},
    {2, 3, 1, 4, 0, 5},
    {2, 3, 1, 4, 5, 0},
    {2, 3, 1, 5, 0, 4},
    {2, 3, 1, 5, 4, 0},
    {2, 3, 4, 0, 1, 5},
    {2, 3, 4, 0, 5, 1},
    {2, 3, 4, 1, 0, 5},
    {2, 3, 4, 1, 5, 0},
    {2, 3, 4, 5, 0, 1},
    {2, 3, 4, 5, 1, 0},
    {2, 3, 5, 0, 1, 4},
    {2, 3, 5, 0, 4, 1},
    {2, 3, 5, 1, 0, 4},
    {2, 3, 5, 1, 4, 0},
    {2, 3, 5, 4, 0, 1},
    {2, 3, 5, 4, 1, 0},
    {2, 4, 0, 1, 3, 5},
    {2, 4, 0, 1, 5, 3},
    {2, 4, 0, 3, 1, 5},
    {2, 4, 0, 3, 5, 1},
    {2, 4, 0, 5, 1, 3},
    {2, 4, 0, 5, 3, 1},
    {2, 4, 1, 0, 3, 5},
    {2, 4, 1, 0, 5, 3},
    {2, 4, 1, 3, 0, 5},
    {2, 4, 1, 3, 5, 0},
    {2, 4, 1, 5, 0, 3},
    {2, 4, 1, 5, 3, 0},
    {2, 4, 3, 0, 1, 5},
    {2, 4, 3, 0, 5, 1},
    {2, 4, 3, 1, 0, 5},
    {2, 4, 3, 1, 5, 0},
    {2, 4, 3, 5, 0, 1},
    {2, 4, 3, 5, 1, 0},
    {2, 4, 5, 0, 1, 3},
    {2, 4, 5, 0, 3, 1},
    {2, 4, 5, 1, 0, 3},
    {2, 4, 5, 1, 3, 0},
    {2, 4, 5, 3, 0, 1},
    {2, 4, 5, 3, 1, 0},
    {2, 5, 0, 1, 3, 4},
    {2, 5, 0, 1, 4, 3},
    {2, 5, 0, 3, 1, 4},
    {2, 5, 0, 3, 4, 1},
    {2, 5, 0, 4, 1, 3},
    {2, 5, 0, 4, 3, 1},
    {2, 5, 1, 0, 3, 4},
    {2, 5, 1, 0, 4, 3},
    {2, 5, 1, 3, 0, 4},
    {2, 5, 1, 3, 4, 0},
    {2, 5, 1, 4, 0, 3},
    {2, 5, 1, 4, 3, 0},
    {2, 5, 3, 0, 1, 4},
    {2, 5, 3, 0, 4, 1},
    {2, 5, 3, 1, 0, 4},
    {2, 5, 3, 1, 4, 0},
    {2, 5, 3, 4, 0, 1},
    {2, 5, 3, 4, 1, 0},
    {2, 5, 4, 0, 1, 3},
    {2, 5, 4, 0, 3, 1},
    {2, 5, 4, 1, 0, 3},
    {2, 5, 4, 1, 3, 0},
    {2, 5, 4, 3, 0, 1},
    {2, 5, 4, 3, 1, 0},
    {3, 0, 1, 2, 4, 5},
    {3, 0, 1, 2, 5, 4},
    {3, 0, 1, 4, 2, 5},
    {3, 0, 1, 4, 5, 2},
    {3, 0, 1, 5, 2, 4},
    {3, 0, 1, 5, 4, 2},
    {3, 0, 2, 1, 4, 5},
    {3, 0, 2, 1, 5, 4},
    {3, 0, 2, 4, 1, 5},
    {3, 0, 2, 4, 5, 1},
    {3, 0, 2, 5, 1, 4},
    {3, 0, 2, 5, 4, 1},
    {3, 0, 4, 1, 2, 5},
    {3, 0, 4, 1, 5, 2},
    {3, 0, 4, 2, 1, 5},
    {3, 0, 4, 2, 5, 1},
    {3, 0, 4, 5, 1, 2},
    {3, 0, 4, 5, 2, 1},
    {3, 0, 5, 1, 2, 4},
    {3, 0, 5, 1, 4, 2},
    {3, 0, 5, 2, 1, 4},
    {3, 0, 5, 2, 4, 1},
    {3, 0, 5, 4, 1, 2},
    {3, 0, 5, 4, 2, 1},
    {3, 1, 0, 2, 4, 5},
    {3, 1, 0, 2, 5, 4},
    {3, 1, 0, 4, 2, 5},
    {3, 1, 0, 4, 5, 2},
    {3, 1, 0, 5, 2, 4},
    {3, 1, 0, 5, 4, 2},
    {3, 1, 2, 0, 4, 5},
    {3, 1, 2, 0, 5, 4},
    {3, 1, 2, 4, 0, 5},
    {3, 1, 2, 4, 5, 0},
    {3, 1, 2, 5, 0, 4},
    {3, 1, 2, 5, 4, 0},
    {3, 1, 4, 0, 2, 5},
    {3, 1, 4, 0, 5, 2},
    {3, 1, 4, 2, 0, 5},
    {3, 1, 4, 2, 5, 0},
    {3, 1, 4, 5, 0, 2},
    {3, 1, 4, 5, 2, 0},
    {3, 1, 5, 0, 2, 4},
    {3, 1, 5, 0, 4, 2},
    {3, 1, 5, 2, 0, 4},
    {3, 1, 5, 2, 4, 0},
    {3, 1, 5, 4, 0, 2},
    {3, 1, 5, 4, 2, 0},
    {3, 2, 0, 1, 4, 5},
    {3, 2, 0, 1, 5, 4},
    {3, 2, 0, 4, 1, 5},
    {3, 2, 0, 4, 5, 1},
    {3, 2, 0, 5, 1, 4},
    {3, 2, 0, 5, 4, 1},
    {3, 2, 1, 0, 4, 5},
    {3, 2, 1, 0, 5, 4},
    {3, 2, 1, 4, 0, 5},
    {3, 2, 1, 4, 5, 0},
    {3, 2, 1, 5, 0, 4},
    {3, 2, 1, 5, 4, 0},
    {3, 2, 4, 0, 1, 5},
    {3, 2, 4, 0, 5, 1},
    {3, 2, 4, 1, 0, 5},
    {3, 2, 4, 1, 5, 0},
    {3, 2, 4, 5, 0, 1},
    {3, 2, 4, 5, 1, 0},
    {3, 2, 5, 0, 1, 4},
    {3, 2, 5, 0, 4, 1},
    {3, 2, 5, 1, 0, 4},
    {3, 2, 5, 1, 4, 0},
    {3, 2, 5, 4, 0, 1},
    {3, 2, 5, 4, 1, 0},
    {3, 4, 0, 1, 2, 5},
    {3, 4, 0, 1, 5, 2},
    {3, 4, 0, 2, 1, 5},
    {3, 4, 0, 2, 5, 1},
    {3, 4, 0, 5, 1, 2},
    {3, 4, 0, 5, 2, 1},
    {3, 4, 1, 0, 2, 5},
    {3, 4, 1, 0, 5, 2},
    {3, 4, 1, 2, 0, 5},
    {3, 4, 1, 2, 5, 0},
    {3, 4, 1, 5, 0, 2},
    {3, 4, 1, 5, 2, 0},
    {3, 4, 2, 0, 1, 5},
    {3, 4, 2, 0, 5, 1},
    {3, 4, 2, 1, 0, 5},
    {3, 4, 2, 1, 5, 0},
    {3, 4, 2, 5, 0, 1},
    {3, 4, 2, 5, 1, 0},
    {3, 4, 5, 0, 1, 2},
    {3, 4, 5, 0, 2, 1},
    {3, 4, 5, 1, 0, 2},
    {3, 4, 5, 1, 2, 0},
    {3, 4, 5, 2, 0, 1},
    {3, 4, 5, 2, 1, 0},
    {3, 5, 0, 1, 2, 4},
    {3, 5, 0, 1, 4, 2},
    {3, 5, 0, 2, 1, 4},
    {3, 5, 0, 2, 4, 1},
    {3, 5, 0, 4, 1, 2},
    {3, 5, 0, 4, 2, 1},
    {3, 5, 1, 0, 2, 4},
    {3, 5, 1, 0, 4, 2},
    {3, 5, 1, 2, 0, 4},
    {3, 5, 1, 2, 4, 0},
    {3, 5, 1, 4, 0, 2},
    {3, 5, 1, 4, 2, 0},
    {3, 5, 2, 0, 1, 4},
    {3, 5, 2, 0, 4, 1},
    {3, 5, 2, 1, 0, 4},
    {3, 5, 2, 1, 4, 0},
    {3, 5, 2, 4, 0, 1},
    {3, 5, 2, 4, 1, 0},
    {3, 5, 4, 0, 1, 2},
    {3, 5, 4, 0, 2, 1},
    {3, 5, 4, 1, 0, 2},
    {3, 5, 4, 1, 2, 0},
    {3, 5, 4, 2, 0, 1},
    {3, 5, 4, 2, 1, 0},
    {4, 0, 1, 2, 3, 5},
    {4, 0, 1, 2, 5, 3},
    {4, 0, 1, 3, 2, 5},
    {4, 0, 1, 3, 5, 2},
    {4, 0, 1, 5, 2, 3},
    {4, 0, 1, 5, 3, 2},
    {4, 0, 2, 1, 3, 5},
    {4, 0, 2, 1, 5, 3},
    {4, 0, 2, 3, 1, 5},
    {4, 0, 2, 3, 5, 1},
    {4, 0, 2, 5, 1, 3},
    {4, 0, 2, 5, 3, 1},
    {4, 0, 3, 1, 2, 5},
    {4, 0, 3, 1, 5, 2},
    {4, 0, 3, 2, 1, 5},
    {4, 0, 3, 2, 5, 1},
    {4, 0, 3, 5, 1, 2},
    {4, 0, 3, 5, 2, 1},
    {4, 0, 5, 1, 2, 3},
    {4, 0, 5, 1, 3, 2},
    {4, 0, 5, 2, 1, 3},
    {4, 0, 5, 2, 3, 1},
    {4, 0, 5, 3, 1, 2},
    {4, 0, 5, 3, 2, 1},
    {4, 1, 0, 2, 3, 5},
    {4, 1, 0, 2, 5, 3},
    {4, 1, 0, 3, 2, 5},
    {4, 1, 0, 3, 5, 2},
    {4, 1, 0, 5, 2, 3},
    {4, 1, 0, 5, 3, 2},
    {4, 1, 2, 0, 3, 5},
    {4, 1, 2, 0, 5, 3},
    {4, 1, 2, 3, 0, 5},
    {4, 1, 2, 3, 5, 0},
    {4, 1, 2, 5, 0, 3},
    {4, 1, 2, 5, 3, 0},
    {4, 1, 3, 0, 2, 5},
    {4, 1, 3, 0, 5, 2},
    {4, 1, 3, 2, 0, 5},
    {4, 1, 3, 2, 5, 0},
    {4, 1, 3, 5, 0, 2},
    {4, 1, 3, 5, 2, 0},
    {4, 1, 5, 0, 2, 3},
    {4, 1, 5, 0, 3, 2},
    {4, 1, 5, 2, 0, 3},
    {4, 1, 5, 2, 3, 0},
    {4, 1, 5, 3, 0, 2},
    {4, 1, 5, 3, 2, 0},
    {4, 2, 0, 1, 3, 5},
    {4, 2, 0, 1, 5, 3},
    {4, 2, 0, 3, 1, 5},
    {4, 2, 0, 3, 5, 1},
    {4, 2, 0, 5, 1, 3},
    {4, 2, 0, 5, 3, 1},
    {4, 2, 1, 0, 3, 5},
    {4, 2, 1, 0, 5, 3},
    {4, 2, 1, 3, 0, 5},
    {4, 2, 1, 3, 5, 0},
    {4, 2, 1, 5, 0, 3},
    {4, 2, 1, 5, 3, 0},
    {4, 2, 3, 0, 1, 5},
    {4, 2, 3, 0, 5, 1},
    {4, 2, 3, 1, 0, 5},
    {4, 2, 3, 1, 5, 0},
    {4, 2, 3, 5, 0, 1},
    {4, 2, 3, 5, 1, 0},
    {4, 2, 5, 0, 1, 3},
    {4, 2, 5, 0, 3, 1},
    {4, 2, 5, 1, 0, 3},
    {4, 2, 5, 1, 3, 0},
    {4, 2, 5, 3, 0, 1},
    {4, 2, 5, 3, 1, 0},
    {4, 3, 0, 1, 2, 5},
    {4, 3, 0, 1, 5, 2},
    {4, 3, 0, 2, 1, 5},
    {4, 3, 0, 2, 5, 1},
    {4, 3, 0, 5, 1, 2},
    {4, 3, 0, 5, 2, 1},
    {4, 3, 1, 0, 2, 5},
    {4, 3, 1, 0, 5, 2},
    {4, 3, 1, 2, 0, 5},
    {4, 3, 1, 2, 5, 0},
    {4, 3, 1, 5, 0, 2},
    {4, 3, 1, 5, 2, 0},
    {4, 3, 2, 0, 1, 5},
    {4, 3, 2, 0, 5, 1},
    {4, 3, 2, 1, 0, 5},
    {4, 3, 2, 1, 5, 0},
    {4, 3, 2, 5, 0, 1},
    {4, 3, 2, 5, 1, 0},
    {4, 3, 5, 0, 1, 2},
    {4, 3, 5, 0, 2, 1},
    {4, 3, 5, 1, 0, 2},
    {4, 3, 5, 1, 2, 0},
    {4, 3, 5, 2, 0, 1},
    {4, 3, 5, 2, 1, 0},
    {4, 5, 0, 1, 2, 3},
    {4, 5, 0, 1, 3, 2},
    {4, 5, 0, 2, 1, 3},
    {4, 5, 0, 2, 3, 1},
    {4, 5, 0, 3, 1, 2},
    {4, 5, 0, 3, 2, 1},
    {4, 5, 1, 0, 2, 3},
    {4, 5, 1, 0, 3, 2},
    {4, 5, 1, 2, 0, 3},
    {4, 5, 1, 2, 3, 0},
    {4, 5, 1, 3, 0, 2},
    {4, 5, 1, 3, 2, 0},
    {4, 5, 2, 0, 1, 3},
    {4, 5, 2, 0, 3, 1},
    {4, 5, 2, 1, 0, 3},
    {4, 5, 2, 1, 3, 0},
    {4, 5, 2, 3, 0, 1},
    {4, 5, 2, 3, 1, 0},
    {4, 5, 3, 0, 1, 2},
    {4, 5, 3, 0, 2, 1},
    {4, 5, 3, 1, 0, 2},
    {4, 5, 3, 1, 2, 0},
    {4, 5, 3, 2, 0, 1},
    {4, 5, 3, 2, 1, 0},
    {5, 0, 1, 2, 3, 4},
    {5, 0, 1, 2, 4, 3},
    {5, 0, 1, 3, 2, 4},
    {5, 0, 1, 3, 4, 2},
    {5, 0, 1, 4, 2, 3},
    {5, 0, 1, 4, 3, 2},
    {5, 0, 2, 1, 3, 4},
    {5, 0, 2, 1, 4, 3},
    {5, 0, 2, 3, 1, 4},
    {5, 0, 2, 3, 4, 1},
    {5, 0, 2, 4, 1, 3},
    {5, 0, 2, 4, 3, 1},
    {5, 0, 3, 1, 2, 4},
    {5, 0, 3, 1, 4, 2},
    {5, 0, 3, 2, 1, 4},
    {5, 0, 3, 2, 4, 1},
    {5, 0, 3, 4, 1, 2},
    {5, 0, 3, 4, 2, 1},
    {5, 0, 4, 1, 2, 3},
    {5, 0, 4, 1, 3, 2},
    {5, 0, 4, 2, 1, 3},
    {5, 0, 4, 2, 3, 1},
    {5, 0, 4, 3, 1, 2},
    {5, 0, 4, 3, 2, 1},
    {5, 1, 0, 2, 3, 4},
    {5, 1, 0, 2, 4, 3},
    {5, 1, 0, 3, 2, 4},
    {5, 1, 0, 3, 4, 2},
    {5, 1, 0, 4, 2, 3},
    {5, 1, 0, 4, 3, 2},
    {5, 1, 2, 0, 3, 4},
    {5, 1, 2, 0, 4, 3},
    {5, 1, 2, 3, 0, 4},
    {5, 1, 2, 3, 4, 0},
    {5, 1, 2, 4, 0, 3},
    {5, 1, 2, 4, 3, 0},
    {5, 1, 3, 0, 2, 4},
    {5, 1, 3, 0, 4, 2},
    {5, 1, 3, 2, 0, 4},
    {5, 1, 3, 2, 4, 0},
    {5, 1, 3, 4, 0, 2},
    {5, 1, 3, 4, 2, 0},
    {5, 1, 4, 0, 2, 3},
    {5, 1, 4, 0, 3, 2},
    {5, 1, 4, 2, 0, 3},
    {5, 1, 4, 2, 3, 0},
    {5, 1, 4, 3, 0, 2},
    {5, 1, 4, 3, 2, 0},
    {5, 2, 0, 1, 3, 4},
    {5, 2, 0, 1, 4, 3},
    {5, 2, 0, 3, 1, 4},
    {5, 2, 0, 3, 4, 1},
    {5, 2, 0, 4, 1, 3},
    {5, 2, 0, 4, 3, 1},
    {5, 2, 1, 0, 3, 4},
    {5, 2, 1, 0, 4, 3},
    {5, 2, 1, 3, 0, 4},
    {5, 2, 1, 3, 4, 0},
    {5, 2, 1, 4, 0, 3},
    {5, 2, 1, 4, 3, 0},
    {5, 2, 3, 0, 1, 4},
    {5, 2, 3, 0, 4, 1},
    {5, 2, 3, 1, 0, 4},
    {5, 2, 3, 1, 4, 0},
    {5, 2, 3, 4, 0, 1},
    {5, 2, 3, 4, 1, 0},
    {5, 2, 4, 0, 1, 3},
    {5, 2, 4, 0, 3, 1},
    {5, 2, 4, 1, 0, 3},
    {5, 2, 4, 1, 3, 0},
    {5, 2, 4, 3, 0, 1},
    {5, 2, 4, 3, 1, 0},
    {5, 3, 0, 1, 2, 4},
    {5, 3, 0, 1, 4, 2},
    {5, 3, 0, 2, 1, 4},
    {5, 3, 0, 2, 4, 1},
    {5, 3, 0, 4, 1, 2},
    {5, 3, 0, 4, 2, 1},
    {5, 3, 1, 0, 2, 4},
    {5, 3, 1, 0, 4, 2},
    {5, 3, 1, 2, 0, 4},
    {5, 3, 1, 2, 4, 0},
    {5, 3, 1, 4, 0, 2},
    {5, 3, 1, 4, 2, 0},
    {5, 3, 2, 0, 1, 4},
    {5, 3, 2, 0, 4, 1},
    {5, 3, 2, 1, 0, 4},
    {5, 3, 2, 1, 4, 0},
    {5, 3, 2, 4, 0, 1},
    {5, 3, 2, 4, 1, 0},
    {5, 3, 4, 0, 1, 2},
    {5, 3, 4, 0, 2, 1},
    {5, 3, 4, 1, 0, 2},
    {5, 3, 4, 1, 2, 0},
    {5, 3, 4, 2, 0, 1},
    {5, 3, 4, 2, 1, 0},
    {5, 4, 0, 1, 2, 3},
    {5, 4, 0, 1, 3, 2},
    {5, 4, 0, 2, 1, 3},
    {5, 4, 0, 2, 3, 1},
    {5, 4, 0, 3, 1, 2},
    {5, 4, 0, 3, 2, 1},
    {5, 4, 1, 0, 2, 3},
    {5, 4, 1, 0, 3, 2},
    {5, 4, 1, 2, 0, 3},
    {5, 4, 1, 2, 3, 0},
    {5, 4, 1, 3, 0, 2},
    {5, 4, 1, 3, 2, 0},
    {5, 4, 2, 0, 1, 3},
    {5, 4, 2, 0, 3, 1},
    {5, 4, 2, 1, 0, 3},
    {5, 4, 2, 1, 3, 0},
    {5, 4, 2, 3, 0, 1},
    {5, 4, 2, 3, 1, 0},
    {5, 4, 3, 0, 1, 2},
    {5, 4, 3, 0, 2, 1},
    {5, 4, 3, 1, 0, 2},
    {5, 4, 3, 1, 2, 0},
    {5, 4, 3, 2, 0, 1},
    {5, 4, 3, 2, 1, 0}};
const int numPattern6Steps = sizeof(pattern6Steps) / sizeof(pattern6Steps[0]);

// Utility function to generate all permutations for n steps
inline void generateStepPermutations(int n, std::vector<std::vector<int>> &out)
{
    out.clear();
    std::vector<int> perm(n);
    for (int i = 0; i < n; ++i)
        perm[i] = i;
    do
    {
        out.push_back(perm);
    } while (std::next_permutation(perm.begin(), perm.end()));
}

// Example usage in your code:
// std::vector<std::vector<int>> patterns;
// generateStepPermutations(4, patterns); // generates all 4-step permutations
